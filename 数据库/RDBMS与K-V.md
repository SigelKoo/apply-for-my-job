针对不同应用场景，针对性选择存储方式。

### 1. 数据存储方案

SQL：

1. MySQL 5.5/5.6/MariaDB；
2. Oracle|MS SQL；

NoSQL：

1. Memcached 1.4.21；
2. Redis 2.8；
3. MongoDB 2.6.6；
4. Hbase 0.96/0.98；

### 2. 评估标准

RDBMS(MySQL)：

- 要求数据持久化存储；用户提交数据就不能丢失；
- 要求事务保证；
- 应用复杂，数据结构复杂，数据一致性要求高；
- 分布式实现时复杂度高，分库分表代价较大。
- 适合需要严格事务保证的OLTP类系统和MIS类系统;

适合场景：

1. 以电商网站为例，
2. 所有后端子系统(比如ERP，物流，财务，仓储，人事，VIS等）；
3. 网站核心数据存储（比如用户，商品，库存，购物车，订单）；

KV(Memcache/Redis)：

- 数据结构简单；只是按照简单的Key来查询和update记录；
- 数据不需要持久化存储(persistent on disk)， 是secondary data；一般不是用户直接写入；（比如由后端job生成，可以由应用实现双写）
- 不需要transaction事务支持；
- 可能有很高的QPS/TPS(for example, 10k+ query/transaction per second);
- 有非常高的响应速度要求（<1ms typically)，以redis为例，同机房操作一般都是几十微秒级别；

适合场景：

1. 各类计数器；
2. 各类cache层（商品列表页，各类配置信息，商品描述信息等）；

Analytics Platform:

1. Hadoop：ETL；科学分析；
2. GP：BI分析；各类报表；
3. Hbase：在线系统；OLAP分析；
4. DocDB：应用相对简单，数据结构相对复杂，支持快速开发，非事务类处理的信息处理系统。如知识问答、社区等；

已有系统碰到性能瓶颈时，优化次序依次为：

- 容量评估
- 性能优化（系统优化，代码逻辑优化，SQL优化）
- 硬件升级（从低端硬件到高端硬件，从低端存储到高端存储）
- 垂直拆分（按照不同的模块拆分数据库）
- 水平拆分（对某个模块，在系统里面再也跑不动，就需要对该模块按照主键或者其他逻辑拆分）