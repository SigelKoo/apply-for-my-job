## 数据库有哪些常见索引

MySQL实现上分为：

- 聚集索引
- 非聚集索引

实际应用中分为：

- 普通索引：最基本的索引，没有任何限制，是我们经常使用到的索引
- 唯一索引：与普通索引类似，不同的是，唯一索引的列值必须唯一，但允许为空值
- 主键索引：是特殊的唯一索引，列值不允许有空值
- 联合索引：将几个列作为一条索引进行检索，使用最左匹配原则
- 全文索引：作用于CHAR，VARCHAR、TEXT数据类型的列

索引用来提高访问效率

MySQL架构

```mermaid
graph TD
	A[client] --- B[MySQL Server 进程] 
	B[MySQL Server 进程] --- C[存储引擎]
```

其中，client是客户端（包括jdbc，navicat之类）；中间Server包括连接器（客户端发送连接请求，用户名密码权限验证），分析器（包括词法分析和语法分析），优化器（帮助进行优化选择。join多张表，先连哪一张；5个索引，优先哪一个），执行器（与存储引擎交互）；存储引擎（持久化工具，不同的数据文件的组织形式不同，mysql中通常有myisam和innodb两种），接收执行器发送的请求，并在文件中筛选结果；查询缓存（查询的结果放入查询缓存区，以后可优先查询，mysql8后失效，原因命中率过低）

访问存储引擎即使用IO，IO操作慢，有两种方式进行改善（减少IO量/减少IO次数），索引主要需要减少IO次数。

索引要不要持久化存储，要，重建索引成本高

索引存储需要存储什么数据，包含索引字段（key）、存储数据所在的文件、存储数据所在的文件的偏移量。可存储为K-V格式。MySQL没有这样使用，当索引文件变得越来越大，效率越来越低，浪费内存空间越来越多。OLAP联机分析处理，对海量的历史数据进行分析操作，要求产生决策性影响，不要求在极短时间内返回结果，数据仓库；OLTP联机事务处理，为了支撑业务系统的需要，必须在极短的时间内返回对应的结果，关系型数据库。Hive是OLAP，使用K-V格式；MySQL是OLTP，使用什么数据结构？B+树











