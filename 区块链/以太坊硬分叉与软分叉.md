# 硬分叉和软分叉

## 硬分叉

硬分叉：硬分叉不具有向前兼容性，即旧软件不接受由新软件产生的数据。因此新节点和老节点不在同一条链上工作。 一旦发生硬分叉，网络中的所有参与者都必须更新到新版本。

2017年8月1日，比特币在其高度为478559时硬分叉为比特币（BTC）和比特币现金（BCH）两条链。这是比特币历史上第一次分叉也是区块链中最成功的一次硬分叉。分叉而来的比特币现金区块大小达到了8MB，因此它除了拥有比特币所有优点之外，其交易速度和矿工确认速度都比比特币快数倍。

2016年7月20日，以太坊进行了一次硬分叉，成功分成了以太坊（ETH）和以太经典（ETC）两条链。

此次分叉源于同年6月的黑客事件。北京时间2016年6月17日，以太坊THE DAO被黑客进行攻击，损失了数千万美元的ETH，以太坊开发团队修改源码，强行把第1920000个区块的资金转移到另一个地址，“夺回”黑客控制的合约币。大部分矿工认同这个修改，一部分矿工不认同这个修改，于是形成了两条链，分别为以太坊和以太经典。

## 软分叉

软分叉：软分叉具有向前兼容性，其新节点和老节点在同一条链上工作，双方互不影响。向前兼容意味着，在去中心化架构中，节点不一定要升级到新的共识规则，因为软分叉的新规则仍旧符合老的规则，所以未升级的节点仍旧能接受新的规则。

## 优缺点

软分叉可以允许不想升级的人不去升级，并且它能够在不影响系统的稳定性和有效性前提下逐步升级。这就比较人性化了，因为总有人持有不同的观点和态度，这个时候就不需要强迫持反对意见的一方接受升级。但是软分叉也有一定弱势，即它的升级空间有限，若想保证向前兼容，就不能增加新的字段。

而硬分叉必须要求所有旧节点进行升级，否则旧节点就无法识别新节点生产的交易和区块，导致区块链分成两条链。这可以说是硬分叉的硬伤了。但是硬分叉升级空间要比软分叉大很多，可以对交易数据结构和区块数据结构做更大胆的修改。

