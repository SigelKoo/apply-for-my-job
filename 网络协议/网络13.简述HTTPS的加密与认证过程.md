# 简述HTTPS的加密与认证过程

`HTTPS`在传统的`HTTP`和`TCP`之间加了一层用于加密解密的`SSL/TLS`层（安全套接层`Secure Sockets Layer` / 安全传输层`Transport Layer Security`）层。使用HTTPS必须要有一套自己的数字证书（包含公钥和私钥）

#### HTTPS解决的问题

- **信息加密传输**：第三方无法窃听；
- **校验机制**：一旦被篡改，通信双方会立刻发现；
- **身份证书**：防止身份被冒充。

#### HTTPS加密过程

1. 客户端请求服务器获取**证书公钥**
2. 客户端(SSL/TLS)**解析证书**（无效会弹出警告）
3. 生成随机值
4. 用**公钥加密**随机值**生成密钥**
5. 客户端将**密钥**发送给服务器
6. 服务端用**私钥**解密**密钥**得到随机值
7. 将**信息和随机值**混合在一起进行对称加密
8. 将**加密的内容**发送给客户端
9. 客户端用**密钥**解密信息

#### HTTPS认证过程

1. 客户端获取到了站点证书，拿到了站点的公钥
2. 客户端找到其站点证书颁发者的信息
3. **站点证书的颁发者**验证**服务端站点**是否可信
4. 往上回溯，找到**根证书颁发者**
5. 通过**根证书颁发者**一步步**验证站点证书颁布者**是否可信