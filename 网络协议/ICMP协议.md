ICMP协议是一个网络层协议，为IP数据报和提高交付成功的机会

一个新搭建好的网络，往往需要先进行一个简单的测试，来验证网络是否畅通；但是IP协议并不提供可靠传输。如果丢包了，IP协议并不能通知传输层是否丢包以及丢包的原因。

差错（或异常）报告——>ICMP差错报文

网络探询——>ICMP询问报文

ICMP差错报文

| 类型               | 解释           |
| ------------------ | -------------- |
| 终点不可达         | 无法交付       |
| 源点抑制           | 拥塞丢数据     |
| 时间超时           | TTL=0          |
| 参数问题           | 首部字段有问题 |
| 改变路由（重定向） | 值得更好的路由 |

ICMP询问报文

| 类型                 | 解释                                 |
| -------------------- | ------------------------------------ |
| 回送请求和回答报文   | 测试目的站是否可达以及了解其相关状态 |
| 时间戳请求和回答报文 | 用来进行时钟同步和测量时间           |

PING：测试两个主机之间的连通性，使用了ICMP回送请求和回答报文

Traceroute：跟踪一个分组从源点到终点的路径，使用了ICMP时间超过差错报告报文