# 多线程和多进程的区别是什么？

#### 多进程

进程是程序在计算机上的一次执行活动，即正在运行中的应用程序，通常称为进程。当你运行一个程序，你就启动了一个进程。每个进程都有自己独立的地址空间(内存空间)，每当用户启动一个进程时，操作系统就会为该进程分配一个独立的内存空间，让应用程序在这个独立的内存空间中运行。

在同一个时间里，同一个计算机系统中如果允许两个或两个以上的进程处于运行状态，这便是多进程，也称多任务。现代的操作系统几乎都是多任务操作系统，能够同时管理多个进程的运行。

多任务带来的好处是明显的，比如你可以边听mp3边上网，与此同时甚至可以将下载的文档打印出来，而这些任务之间丝毫不会相互干扰。

#### 多线程

线程是一个轻量级的子进程，是最小的处理单元；是一个单独的执行路径。可以说：线程是进程的子集（部分），一个进程可能由多个线程组成。

线程是独立的。如果在一个线程中发生异常，则不会影响其他线程。它使用共享内存区域。

多线程是一种执行模型，它允许多个线程存在于进程的上下文中，以便它们独立执行但共享其进程资源。

#### 区别

| 维度           | 多进程                                                       | 多线程                            | 总结     |
| -------------- | ------------------------------------------------------------ | --------------------------------- | -------- |
| 数据共享、同步 | 数据是分开的，共享复杂，需要用IPC；同步简单                  | 共享进程数据；同步复杂            | 各有优势 |
| 内存、CPU      | 占用内存多，切换复杂，CPU利用率低                            | 占用内存少，切换简单，CPU利用率高 | 线程占优 |
| 创建销毁、切换 | 创建销毁、切换复杂、速度慢                                   | 创建销毁、切换简单、速度快        | 线程占优 |
| 编程调试       | 编程简单，调试简单                                           | 编程复杂，调试复杂                | 进程占优 |
| 可靠性         | 进程间不会互相影响                                           | 一个线程挂掉会导致整个进程挂掉    | 进程占优 |
| 分布式         | 适应于多核、多机分布；如果一台机器不够，扩展到多台机器比较简单 | 适应于多核分布                    | 线程占优 |